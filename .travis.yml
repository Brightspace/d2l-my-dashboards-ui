language: node_js
node_js: node
script:
- npm run lint
- |
  if [ $TRAVIS_PULL_REQUEST != false ] && [ $TRAVIS_SECURE_ENV_VARS == true ]; then
    echo "Pull request with secure environment variables, running Sauce tests...";
    npm run test:polymer:sauce || travis_terminate 1;
  else
    echo "Not a pull request and/or no secure environment variables, running headless tests...";
    npm run test:polymer:local || travis_terminate 1;
  fi
addons:
  chrome: stable
env:
  global:
  # SAUCE_USERNAME
  - secure: a4cJqEBsdvRReyEkwooaWOby6ztMtASzWZUuwySwfuti8cBjlPETJK1Z8eusehsI8DDaB4Qkym4D6oKAlPnDEH7KOwbit+3BneCt9h0axac/e9scqFj0a2rhoXo5dwuQBjoiPwdaGxeOuCj38by8x3QS9nfVlfeVOmHxprn4vYe3GJ9Tju6hqjRWFv+rMJRIP4fZjmZchY2Yx/Gf8ZQ9VLO392A1ySPTozjxYD913y8mFu1KDj+sz6POmiQsZIQddWckrYN/I2smj/z3sM/AoWTlB8E4g7VjJCrvJ8I4iVTvJLpFuz5t3eo4A76UvxjcTRyIOnTspPqRK2zNay4L44G3jopAAtNbOW1yoLWtg3RQk3E04cdULTF9IVJk36bq0CTua7IQYqxjifOTu2mKap4JlIZxDFABfNRqwQT/L8t+VZG0mArIx+QHJ/JIE6KgbALLncVfVQc3O483Mo/mF4GS04MZujRLv5xjyHNR10VYL+NSgeoorc6dtibDp99q3eoaIDOwag5Q06n4REVFSLyjNcZyhrKBiS2d0zoW0VoXia/M+UAQzULYJMEgw0aCtpfLM+ITFxbnPXI5K2Cllf5s3M5Nq0bHnMjxA81ZaIBiOqKt0AnJLW+iHv5WOQcELb3q1nT6vqwgihHBA8BDUQeM0NDrj2Jr5QOGJElrM34=
  # SAUCE_ACCESS_KEY
  - secure: VjWO4Tn2GojrLL6eyK6SK7z7JIVyOoNGXYOFSiVfuFQvT7Lsg+4zENhnGy7CLl6yCnJ1b8U1im873U4UwGF4tWbMNyF3ecfCpagS/syaWNVTNeWNizv9tEygMK6ljc0r7AEREC4EFRQ3PeKg3NrGeYXK8rBIXjZn8cIZ4f4iTroPjF+gtLeJXWtqNKgRocmeeD1U24MOeHsc+MVbrjEAmXlPk8iwyG+qCag3OyYsHFxFyg6qni318q08Vf40Wo8RQhC0FGc80toD0wOr1XpEWcA9suyeEmUK1uS8JpBQZGkMDB0prSj2VSgYVjwxiWImK6qoRHp7Lpc9ATbcCO180AD8+UQlWQnKR/k3uN+Kq6J8AuQLR3CBzyFSqXKyxmEKqyHz4l0cokxqF7YoYAcLBNIslMul1TiuywFtaYalg9nNKF1ABVwhoV9a5Bi42uY6tfThsDPJVndeOEjp5B+U1+mofOpwZbRNdzuLS9jmaAGpC1Z3C0wNw1A7hc0wKb/6dW1KW5Wxp1fw5F14IOcNPOhhYYxDntzsizYnSFyqJgRue0aST07+lqHjNsHg/Pxmyv3cGE+xsrwu5KYPTukzdYZh5oTHFY+qy+NpllGxHzMez4bvZgkOe0VMNOWW2LyJ297E5083s15Ror+OPxEJyfIGq/De+zc6vk579h+jJgA=
